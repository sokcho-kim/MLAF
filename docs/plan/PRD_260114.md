# 🍿 [PRD] Project Popcorn: 입법 리스크 레이더 (MVP)

| 항목 | 내용 |
| --- | --- |
| **프로젝트명** | **Project Popcorn** (Legislative Risk Radar) |
| **작성자** | 김지민 (AI Engineer) |
| **목표** | "보이지 않는 규제(Hidden Impact)"를 선제적으로 감지하는 지능형 에이전트 구축 |
| **핵심 가치** | **Zero-Click Monitoring** (입력 없이 감지) & **Actionable Report** (즉시 대응 가능) |
| **관련 비전** | 2026년 등대(Lighthouse) 전략 , 기술 내재화(Internalization) 

 |

## 1. 배경 및 문제 정의 (Why?)

* 
**Pain Point:** 특정 부처(예: 산업부)가 타 상임위(예: 보건복지위) 법안의 기습적인 규제 조항을 놓쳐, 법사위 단계에서 대응 시기를 놓치는 사례 발생 (약사법 딜레마).


* **Opportunity:** 단순 키워드 검색으로는 '맥락적 위험'을 찾을 수 없음. **국회법 절차와 선례 데이터**를 결합한 **하이브리드 분석**이 필요함.

## 2. 핵심 기능 (What?)

1. **📡 Cross-Domain Radar (리스크 감지기)**
* **기능:** 신규 법안 텍스트 vs 부처 R&R 벡터 간 **의미적 유사도(Semantic Similarity)** 분석.
* **로직:** `소관위 불일치` AND `유사도 > 0.82` AND `규제 키워드 포함` 시 경고 발령.


2. **🧠 Legislative Logic Engine (법률 논리 생성)**
* **기능:** 감지된 리스크에 대해 **국회법 조문**과 **유사 선례**를 매핑하여 방어 논리 수립.
* **연구:** 국산 LLM(Solar)의 한국어 법률 해석 능력 검증.


3. **📝 Auto-Report Generator (HWP 보고서)**
* **기능:** 분석된 내용을 공문 양식(HWP)에 자동 주입하여 보고서 초안 생성.



## 3. 성공 지표 (Metrics)

* **정확도:** 산업부 관련 타 상임위 법안 탐지율 (기존 키워드 검색 대비 +30% 향상 목표).
* **속도:** 법안 발의 후 1분 이내 리스크 분석 완료.
* **비용 효율:** 15만 원/월 예산 내 안정적 운영.

---

# 🛠️ 기술 스택 (Tech Stack)

**"15만 원으로 구축하는 고성능 리걸테크 파이프라인"**입니다.

## 1. Infrastructure (서버 & 운영)

| 구분 | 선택 기술 | 선정 근거 | 비용 (월) |
| --- | --- | --- | --- |
| **Server** | **AWS Lightsail** | 4GB RAM, 2 vCPU. 중단 없는 안정성(No Cold Start). | $20 |
| **OS** | **Ubuntu 22.04** | 가장 범용적인 리눅스 환경. | 포함 |
| **Deploy** | **Docker Compose** | Qdrant와 App을 한 번에 관리. 이식성 확보. | $0 |

## 2. AI Model (두뇌)

| 구분 | 선택 기술 | 선정 근거 | 비용 (월) |
| --- | --- | --- | --- |
| **LLM** | **Upstage Solar Pro** | 한국어/법률 이해도 우수. GPT-4o 대비 가성비 및 **기술 내재화 명분**. | ~$50 (종량) |
| **Embedding** | **Solar Embedding** | 법률 용어의 뉘앙스(의미 거리) 파악에 특화됨. | ~$10 (종량) |

## 3. Data Store (기억)

| 구분 | 선택 기술 | 선정 근거 | 비용 (월) |
| --- | --- | --- | --- |
| **Vector DB** | **Qdrant** | **Rust 기반 고성능.** Hybrid Search(키워드+의미) 및 정밀 필터링 최강자. | $0 (Self-Host) |
| **Distance** | **Dot Product** | 최신 임베딩 모델(Normalized) 사용 시 Cosine보다 연산 속도 빠름. | - |

## 4. Application Framework

* **Orchestration:** **LangGraph** (순차적 판단 로직 구현: 감지 → 조회 → 작성)
* **Backend/UI:** **Streamlit** (빠른 PoC 시연용)
* **Research Tool:** `tiktoken` vs `tokenizers` (토크나이저 비교), `scikit-learn` (t-SNE 시각화)

---

# 📂 프로젝트 디렉토리 구조 (Tree)

이 구조대로 폴더를 만드시면 됩니다. **연구(Research)**와 **서비스(App)**를 분리한 것이 특징입니다.

```text
project-popcorn/
├── .env                    # API Key 관리 (Upstage, AWS 등)
├── docker-compose.yml      # Qdrant + Streamlit 컨테이너 설정
├── requirements.txt        # 의존성 패키지 목록
├── data/                   # 원본 데이터 (JSON)
│   ├── na_merged.json
│   └── na_precedents.json
│
├── research/               # [연구용] 지민님의 실험실
│   ├── tokenizer_lab.ipynb # 국회법 용어 토크나이징 비교 실험
│   ├── embedding_viz.ipynb # t-SNE 유사도 시각화 실험
│   └── radar_test.py       # BM25 vs Vector 검색 성능 비교
│
├── src/                    # [서비스용] 실제 구동 코드
│   ├── ingest.py           # 데이터 벡터화 및 Qdrant 적재
│   ├── radar.py            # 리스크 감지 로직 (Cross-Domain)
│   ├── agent.py            # LangGraph 워크플로우
│   └── report.py           # HWP 생성 모듈
│
└── app.py                  # Streamlit 메인 실행 파일

```

---

# 🚀 Next Action: 프로젝트 초기화

지금 터미널을 열고 아래 명령어로 프로젝트의 뼈대를 잡으시죠.

**1. AWS Lightsail 터미널 접속 후:**

```bash
# 1. 프로젝트 폴더 생성
mkdir project-popcorn && cd project-popcorn

# 2. 폴더 구조 생성
mkdir data research src

# 3. 도커 컴포즈 파일 생성 (Qdrant 실행용)
touch docker-compose.yml

```

**2. `docker-compose.yml` 작성 (Qdrant 띄우기):**

```yaml
version: '3'
services:
  qdrant:
    image: qdrant/qdrant
    ports:
      - "6333:6333"
    volumes:
      - ./qdrant_storage:/qdrant/storage
    restart: always

```

**3. 실행:**

```bash
sudo docker-compose up -d

```

