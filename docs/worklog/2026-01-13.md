# 작업일지 - 2026-01-13

## 요약
| 항목 | 내용 |
|------|------|
| 프로젝트 | MLAF (국회법 데이터), DobbyOps (Claude 스킬) |
| 주요 작업 | PDF 파싱, 법제처 API 연동, 데이터 병합, 선례-조문 매핑 |
| 산출물 | 282개 조문 (4개 법률), 319개 선례, 306개 조문참조 |
| 비용 | $0 |

## 작업 내역

### [MLAF] 프로젝트 초기 설정
- `docs/worklog/` 폴더 생성
- `.gitignore`에 `tmpclaude-*` 패턴 추가

### [DobbyOps] 글로벌 Claude Code 스킬 레포 구축
- **레포**: https://github.com/sokcho-kim/dobbyops.git
- **위치**: `C:/Jimin/dobbyops`

생성된 스킬 (4개):
| 스킬 | 용도 |
|------|------|
| `/parse-pdf` | 지능형 PDF 파싱 (PyMuPDF 우선, 필요시 Upstage) |
| `/cost-check` | API 과금 확인 및 로깅 |
| `/worklog` | 프로젝트별 작업일지 작성 |
| `/cleanup` | 시스템 정리 (HF캐시, conda, downloads) |

스킬 계층 구조 설계:
- 글로벌: `~/.claude/commands/` (DobbyOps)
- 프로젝트별: `{project}/.claude/commands/`

### [MLAF] 국회법 PDF 파싱 (v0)
- **원본 위치**:
  - 국회선례집: https://dl.nanet.go.kr/search/searchInnerDetail.do?controlNo=MONO12021000007826
  - 국회법해설: https://nsp.nanet.go.kr/plan/subject/detail.do?nationalPlanControlNo=PLAN0000054786

- **파싱 결과**:

| 문서 | 페이지 | 파싱 결과 | 출력 파일 |
|------|--------|----------|----------|
| 국회법해설 | 17~716p | 218개 조문 | `data/processed/na_commentary.json` |
| 국회선례집 | 935p | 319개 선례 | `data/processed/na_precedents.json` |

- **스크립트 위치**: `src/parser/na_commentary.py`, `src/parser/na_precedents.py`
- **파싱 방식**: PyMuPDF (무료), 비용 $0

### [MLAF] 법제처 API 연동
- **API**: 국가법령정보센터 Open API (law.go.kr/DRF)
- **엔드포인트**:
  - 검색: `lawSearch.do?query=국회법`
  - 상세: `lawService.do?MST={법령일련번호}`

- **파싱 결과**:

| 항목 | 수량 |
|------|------|
| 조문 | 218개 |
| 장/절 | 22개 |
| 항(①②③) | 558개 |
| 호(1.2.3.) | 147개 |

- **출력 파일**: `data/processed/na_act_moleg.json`
- **스크립트**: `src/parser/moleg_api.py`
- **비용**: $0 (무료 API)

**구조 계층**:
```
조(Article) → 항(Paragraph ①②) → 호(Item 1.2.) → 목(SubItem 가.나.)
```

API가 이미 조/항/호/목 구조로 데이터를 제공하여 별도 파싱 불필요.

### [MLAF] 데이터 병합 (국회법해설 + 법제처 API)
- **스크립트**: `src/parser/merge_na_data.py`
- **출력 파일**: `data/processed/na_merged.json`

**병합 결과**:
| 항목 | 수량 |
|------|------|
| 전체 조문 | 219개 |
| 양쪽 매핑 | 209개 (95.4%) |
| 법제처만 | 9개 |
| 해설만 | 1개 |

**병합 데이터 구조**:
```json
{
  "article_id": "5",
  "title": "임시회",
  "law_text": "제5조(임시회)...",
  "paragraphs": [...],     // 법제처: 조/항/호/목 구조
  "commentary": "...",      // 국회법해설: 해설 텍스트
  "chapter": {"number": 1, "type": "장", "title": "총칙"}
}
```

**발견된 이슈**:
- 국회법해설 PDF에 여러 법률 포함 (국회법, 국정감사법, 인사청문회법 등)
- 페이지 범위 지정으로 국회법만 추출 (17~716p)

### [MLAF] 관련 법률 수집 (법제처 API)
- **스크립트**: `src/parser/fetch_related_laws.py`

| 법률 | 조문 수 | 출력 파일 |
|------|--------|----------|
| 국회법 | 218개 | `na_act_moleg.json` |
| 국정감사 및 조사에 관한 법률 | 22개 | `inspection_act_moleg.json` |
| 국회에서의 증언·감정 등에 관한 법률 | 21개 | `testimony_act_moleg.json` |
| 인사청문회법 | 21개 | `hearing_act_moleg.json` |
| **총계** | **282개** | |

### [MLAF] 선례-조문 매핑
- **스크립트**: `src/parser/map_precedent_articles.py`
- **출력 파일**: `data/processed/precedent_article_map.json`

| 항목 | 수량 |
|------|------|
| 전체 선례 | 319개 |
| 조문 참조 | 306개 |
| 매핑된 국회법 조문 | 125개 |

**법률별 참조 횟수**:
- 국회법: 227회
- 헌법: 36회
- 국정감사법: 27회
- 공직선거법: 8회
- 인사청문회법: 8회

### [MLAF] 문서화
- **파이프라인 문서**: `docs/data-pipeline.md`
- 데이터 소스, 스크립트, 스키마, 매핑 현황 정리
- 신규 조문 해설 없음 사유 명시 (2024.7 해설집 발간 이후 신설)

## 다음 할 일
- 국회선례집 누락 선례 보완 (207개)
- 관련 법률 해설 파싱 및 병합
- 스킬톤 해커톤 준비 (1/24)
